<div ng-controller="ProjectsManageCtrl">
    <div class="row">
        <div class="col s12">
            <table class="highlight">
                <thead>
                <tr>
                    <th>Name</th>
                    <th>Rounds to finish</th>
                    <th class="center-align">Details</th>
                    <th class="center-align">Take up</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="project in projects">
                    <td>{{project.name}}</td>
                    <td>{{project.roundsToFinish}}</td>
                    <td class="center-align">
                        <button data-target="testModal" class="btn waves-effect" ng-click="showDetails(project)">
                            <i class="material-icons">info_outline</i>
                        </button>
                    </td>
                    <td class="center-align">
                        <button class="btn waves-effect" ng-click="turnDown(project)">
                            <i class="material-icons">delete</i>
                        </button>
                    </td>
                </tr>
                </tbody>
            </table>
            <div class="col s12 center-align">
                <pagination get-data="getMy(activePage)" pages="pagination.pages"/>
            </div>
        </div>
    </div>

    <div data-modal id="projectDetailsModal" class="modal">
        <div class="modal-content">
            <h4>{{actualProject.name}}</h4>
            {{actualProject.description}}
            <h5>Rounds to finish: <span style="font-weight: bold;">{{actualProject.roundsToFinish}}</span></h5>
            <h5>Requirements</h5>
            <ul class="collection">
                <li ng-repeat="requirement in actualProject.requirements" class="collection-item">{{requirement.employeeTypeId | employeeType}}: <b>{{requirement.assignedEmployees}}</b>/{{requirement.employeesNumber}}</li>
            </ul>
        </div>
    </div>

    <modal-confirmation header="Do you want turn down project?" message="test" agree="turnDownAgree()"/>
</div>